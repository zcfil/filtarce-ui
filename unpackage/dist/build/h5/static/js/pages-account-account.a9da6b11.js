(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-account-account"],{"0259":function(e,t,n){"use strict";var i=n("4ea4");n("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("20d7")),o=i(n("acf5")),s=n("8eed"),r={data:function(){return{key:"login",count:"",timer:null,show:!0,show1:!0,formData:{users_name:"",universal:"",users_passwd:"",newusers_passwd:"",users_code:"",status:""},rules:{users_name:{rules:[{required:!0,errorMessage:"用户名不能为空",trigger:"blur"},{pattern:/^(?!.*?[\u3000-\u303F\u4DC0-\u4DFF\u2800-\u28FF\u3200-\u32FF\u3300-\u33FF\u2700-\u27BF\u2600-\u26FF\uFE10-\uFE1F\uFE30-\uFE4F])[\u4e00-\u9fbb\u2E80-\uFE4Fa-zA-Z.`·]+$/,errorMessage:"请输入正确的用户名格式（汉字和英文字母）",trigger:"blur"}]},universal:{rules:[{required:!0,errorMessage:"账号不能为空",trigger:"blur"},{validateFunction:function(e,t,n,i){var a=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,o=/^1[3|4|5|7|8|9]\d{9}$/;t.indexOf("@")>0?a.test(t)?i():i("邮箱格式不正确"):o.test(t)?i():i("手机号格式不正确")}}]},users_passwd:{rules:[{required:!0,errorMessage:"密码不能为空",trigger:"blur"},{pattern:/^(\w){6,18}$/,errorMessage:"请输入正确的密码格式（6到18位数字和英文字母）",trigger:"blur"}]},newusers_passwd:{rules:[{required:!0,errorMessage:"确认密码不能为空",trigger:"blur"},{pattern:/^(\w){6,18}$/,errorMessage:"请输入正确的密码格式（6到18位数字和英文字母）",trigger:"blur"}]},users_code:{rules:[{required:!0,errorMessage:"验证码不能为空",trigger:"blur"},{pattern:/^\d{6}$/,errorMessage:"请输入正确的验证码",trigger:"blur"}]}}}},onLoad:function(e){void 0!=e.key&&(this.key=e.key)},methods:{grtCode:function(){var e=this,t=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(this.formData.universal.indexOf("@")>0){this.formData.status="2";t=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;if(!t.test(this.formData.universal))return void uni.showToast({title:"邮箱格式不正确",icon:"none"})}else{this.formData.status="1";t=/^1[3|4|5|7|8|9]\d{9}$/;if(!t.test(this.formData.universal))return void uni.showToast({title:"手机号格式不正确",icon:"none"})}var n=60;this.timer||(this.count=n,this.show=!1,this.timer=setInterval((function(){e.count>0&&e.count<=n?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3)),"register"==this.key?this.formData.msgType="1":"login"==this.key?this.formData.msgType="2":"reset"==this.key&&(this.formData.msgType="3"),(0,s.verificationCode)(this.formData).then((function(e){uni.showToast({title:"验证码已发送成功",icon:"success"})}))},submit:function(){var e=this;this.formData.universal.indexOf("@")>0?this.formData.status="2":this.formData.status="1",this.$refs.form.validate().then((function(t){"register"==e.key?(0,s.usersRegister)(e.formData).then((function(t){e.$tip.success("注册成功"),uni.navigateTo({url:"/pages/account/account?key=login"})})):"login"==e.key?1==e.show1?(0,s.userslogin)(e.formData).then((function(t){e.$tip.success("登录成功"),sessionStorage.setItem("token",t.data.token),sessionStorage.setItem("verify",t.data.verify),sessionStorage.setItem("massage",t.data.massage),sessionStorage.setItem("telephone",t.data.telephone),uni.reLaunch({url:"/pages/user/user?type=0"})})):0==e.show1&&(0,s.verificationCodelogin)(e.formData).then((function(t){e.$tip.success("登录成功"),sessionStorage.setItem("token",t.data.token),sessionStorage.setItem("verify",t.data.verify),sessionStorage.setItem("massage",t.data.massage),sessionStorage.setItem("telephone",t.data.telephone),uni.reLaunch({url:"/pages/user/user?type=0"})})):"reset"==e.key&&(0,s.restpasswd)(e.formData).then((function(t){e.$tip.success("修改成功"),uni.navigateTo({url:"/pages/account/account?key=login"})}))})).catch((function(e){console.log("表单错误信息：",e)}))},login:function(){uni.navigateTo({url:"/pages/account/account?key=login"})},register:function(){uni.navigateTo({url:"/pages/account/account?key=register"})},reset:function(){uni.navigateTo({url:"/pages/account/account?key=reset"})}},components:{Top:a.default,Footer:o.default}};t.default=r},"25fd":function(e,t,n){"use strict";n.r(t);var i=n("ad08"),a=n("5edf");for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);n("b1c5");var s,r=n("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"48ff20f5",null,!1,i["a"],s);t["default"]=c.exports},"5edf":function(e,t,n){"use strict";n.r(t);var i=n("0259"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=a.a},9735:function(e,t,n){var i=n("9b8c");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("cd970f72",i,!0,{sourceMap:!1,shadowMode:!1})},"9b8c":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,"@media (max-width:450px){.content-container[data-v-48ff20f5]{padding-top:94.67px}.content-container .content[data-v-48ff20f5]{height:460px;padding:16px;box-sizing:border-box;position:relative;font-size:14px}.content-container .heig[data-v-48ff20f5]{height:570px}.content-container .content .account .titles[data-v-48ff20f5]{color:#f3921b;font-size:24px;font-weight:700;margin-bottom:20px}.content-container .content .account .name[data-v-48ff20f5]{position:absolute;top:274px;left:220px;width:100px;height:34px;line-height:34px;text-align:center;border:1px solid #dedede;border-radius:6px;font-size:14px}.content-container .content .account .names[data-v-48ff20f5]{top:448px}.content-container .content .account .namess[data-v-48ff20f5]{position:absolute;top:187px;left:220px;width:100px;height:34px;line-height:34px;text-align:center;border:1px solid #dedede;border-radius:6px;font-size:14px}.content-container .content .account .register uni-view:nth-child(2) uni-button[data-v-48ff20f5]{height:40px;line-height:40px;color:#fff;background:#f3921b;width:80px;font-size:15px}}@media (min-width:450px){.content-container[data-v-48ff20f5]{width:100%;background:#f1f6fd;padding-top:16px;padding-bottom:16px}.content-container .content[data-v-48ff20f5]{width:1400px;height:707px;box-sizing:border-box;margin:0 auto;padding-top:160px;padding-bottom:160px;background:#fff}.content-container .heig[data-v-48ff20f5]{padding-top:71px;padding-bottom:71px}.content-container .content .account[data-v-48ff20f5]{width:500px;margin:0 auto;position:relative}.content-container .content .account .titles[data-v-48ff20f5]{color:#f3921b;font-size:30px;font-weight:700;margin-bottom:40px}.content-container .content .account .name[data-v-48ff20f5]{position:absolute;top:289px;left:200px;width:100px;height:34px;line-height:34px;text-align:center;border:1px solid #dedede;border-radius:6px;font-size:14px}.content-container .content .account .names[data-v-48ff20f5]{top:467px}.content-container .content .account .namess[data-v-48ff20f5]{position:absolute;top:200px;left:200px;width:100px;height:34px;line-height:34px;text-align:center;border:1px solid #dedede;border-radius:6px;font-size:14px}.content-container .content .account .register uni-view:nth-child(2) uni-button[data-v-48ff20f5]{height:40px;line-height:40px;color:#fff;background:#f3921b;width:160px}}.content-container .content .account .title[data-v-48ff20f5]{color:#444;margin-bottom:10px}.content-container .content .account .code[data-v-48ff20f5]{width:200px}.content-container .content .account .code_password[data-v-48ff20f5]{overflow:hidden;margin-bottom:10px}.content-container .content .account .code_password uni-view[data-v-48ff20f5]:nth-child(1){float:left;color:#f3921b;cursor:pointer}.content-container .content .account .code_password uni-view[data-v-48ff20f5]:nth-child(2){float:right;color:#f3921b;cursor:pointer}.content-container .content .account .register[data-v-48ff20f5]{overflow:hidden}.content-container .content .account .register uni-view[data-v-48ff20f5]:nth-child(1){float:left;line-height:40px}.content-container .content .account .register uni-view[data-v-48ff20f5]:nth-child(2){float:right}.content-container .content .account .register uni-view:nth-child(1) uni-text[data-v-48ff20f5]{color:#f3921b;cursor:pointer}",""]),e.exports=t},ad08:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i}));var i={uniForms:n("24cf").default,uniFormsItem:n("f6c3").default,uniEasyinput:n("28c9").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"account"},[n("Top"),n("v-uni-view",{staticClass:"content-container"},[n("v-uni-view",{staticClass:"content",class:{heig:"register"==e.key}},[n("v-uni-view",{staticClass:"account"},["login"==e.key?n("v-uni-view",{staticClass:"titles"},[e._v("欢迎回来")]):e._e(),"register"==e.key?n("v-uni-view",{staticClass:"titles"},[e._v("账号注册")]):e._e(),"reset"==e.key?n("v-uni-view",{staticClass:"titles"},[e._v("忘记密码")]):e._e(),n("uni-forms",{ref:"form",attrs:{modelValue:e.formData,rules:e.rules}},["register"==e.key?n("v-uni-view",{staticClass:"title"},[e._v("用户名")]):e._e(),"register"==e.key?n("uni-forms-item",{attrs:{name:"users_name"}},[n("uni-easyinput",{attrs:{type:"text",placeholder:"请输入用户名"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}},model:{value:e.formData.users_name,callback:function(t){e.$set(e.formData,"users_name",t)},expression:"formData.users_name"}})],1):e._e(),n("v-uni-view",{staticClass:"title"},[e._v("账号")]),n("uni-forms-item",{attrs:{name:"universal"}},[n("uni-easyinput",{attrs:{type:"text",placeholder:"请输入邮箱或者手机号"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}},model:{value:e.formData.universal,callback:function(t){e.$set(e.formData,"universal",t)},expression:"formData.universal"}})],1),"login"==e.key&&1==e.show1?n("v-uni-view",{staticClass:"title"},[e._v("密码")]):e._e(),"register"==e.key||"reset"==e.key?n("v-uni-view",{staticClass:"title"},[e._v("设置密码")]):e._e(),1==e.show1?n("uni-forms-item",{attrs:{name:"users_passwd"}},[n("uni-easyinput",{attrs:{type:"password",placeholder:"请输入密码"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}},model:{value:e.formData.users_passwd,callback:function(t){e.$set(e.formData,"users_passwd",t)},expression:"formData.users_passwd"}})],1):e._e(),"register"==e.key?n("v-uni-view",{staticClass:"title"},[e._v("确认密码")]):e._e(),"register"==e.key?n("uni-forms-item",{attrs:{name:"newusers_passwd"}},[n("uni-easyinput",{attrs:{type:"password",placeholder:"请输入确认密码"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}},model:{value:e.formData.newusers_passwd,callback:function(t){e.$set(e.formData,"newusers_passwd",t)},expression:"formData.newusers_passwd"}})],1):e._e(),"register"==e.key||"reset"==e.key||0==e.show1?n("v-uni-view",{staticClass:"title"},[e._v("验证码")]):e._e(),"register"==e.key||"reset"==e.key||0==e.show1?n("uni-forms-item",{staticClass:"code",attrs:{name:"users_code"}},[n("uni-easyinput",{attrs:{type:"text",placeholder:"请输入验证码"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}},model:{value:e.formData.users_code,callback:function(t){e.$set(e.formData,"users_code",t)},expression:"formData.users_code"}})],1):e._e()],1),"register"==e.key||"reset"==e.key?n("v-uni-view",{staticClass:"name",class:{names:"register"==e.key}},[n("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticStyle:{cursor:"pointer"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.grtCode.apply(void 0,arguments)}}},[e._v("获取验证码")]),n("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}]},[e._v(e._s(e.count)+"s")])],1):e._e(),0==e.show1?n("v-uni-view",{staticClass:"namess"},[n("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticStyle:{cursor:"pointer"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.grtCode.apply(void 0,arguments)}}},[e._v("获取验证码")]),n("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}]},[e._v(e._s(e.count)+"s")])],1):e._e(),"login"==e.key?n("v-uni-view",{staticClass:"code_password"},[1==e.show1?n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.show1=!1}}},[e._v("验证码登录")]):e._e(),0==e.show1?n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.show1=!0}}},[e._v("密码登录")]):e._e(),1==e.show1?n("v-uni-view",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.reset.apply(void 0,arguments)}}},[e._v("忘记密码？")]):e._e()],1):e._e(),"login"==e.key?n("v-uni-view",{staticClass:"register"},[n("v-uni-view",[e._v("还没有账号？"),n("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.register.apply(void 0,arguments)}}},[e._v("立即注册")])],1),n("v-uni-view",[n("v-uni-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("登录")])],1)],1):e._e(),"register"==e.key?n("v-uni-view",{staticClass:"register"},[n("v-uni-view",[e._v("已有账户？"),n("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.login.apply(void 0,arguments)}}},[e._v("登录")])],1),n("v-uni-view",[n("v-uni-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("注册")])],1)],1):e._e(),"reset"==e.key?n("v-uni-view",{staticClass:"register"},[n("v-uni-view",[n("v-uni-text",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.login.apply(void 0,arguments)}}},[e._v("返回登录")])],1),n("v-uni-view",[n("v-uni-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("确定")])],1)],1):e._e()],1)],1)],1),n("Footer")],1)},o=[]},b1c5:function(e,t,n){"use strict";var i=n("9735"),a=n.n(i);a.a}}]);